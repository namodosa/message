<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" class="default-style layout-navbar-fixed">
<head th:replace="layout::head"></head>
<body>
<div class="page-loader">
    <div class="bg-primary"></div>
</div>
<!-- Layout wrapper -->
<div class="layout-wrapper layout-2">
    <!-- Layout inner -->
    <div class="layout-inner">
        <!-- Layout sidenav -->
        <div th:replace="layout::side"></div>
        <!-- / Layout sidenav -->
        <!-- Layout container -->
        <div class="layout-container">
            <!-- Layout navbar -->
            <nav th:replace="layout::navbar"></nav>
            <!-- / Layout navbar -->
            <!-- Layout content -->
            <div class="layout-content">
                <!-- Content -->
                <div class="container-fluid flex-grow-1 container-p-y">

                    <div class="card mb-4">
                        <h6 class="card-header"><i class="ion ion-md-clipboard"></i> 리소스 정보</h6>
                        <div class="card-body">
                            <form class="form-horizontal" th:action="@{/admin/resource}" method="post" th:object="${resource}">
                            <input th:type="hidden" name="id" th:value="*{id}" />
                            <div class="form-group row">
                                <label class="col-form-label col-sm-2 text-sm-right">리소스명</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control input-large" name="name" id="name" placeholder="" th:value="*{name}" required>
                                </div>
                            </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-sm-2 text-sm-right">리소스타입</label>
                                    <div class="col-sm-10">
                                        <select class="custom-select" name="resourceType" id="resourceType">
                                            <option name="URL" value="URL" th:selected="*{resourceType == 'URL'}">url</option>
                                            <option name="METHOD" value="METHOD" th:selected="*{resourceType == 'METHOD'}">method</option>
                                            <option name="POINTCUT" value="POINTCUT" th:selected="*{resourceType == 'POINTCUT'}">pointcut</option>
                                        </select>
                                    </div>
                                </div>

                            <div class="form-group row">
                                <label class="col-form-label col-sm-2 text-sm-right">HttpMethod</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control input-large" name="httpMethod" id="httpMethod" placeholder="" th:value="*{httpMethod}">
                                </div>
                            </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-sm-2 text-sm-right">순서</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control input-large" name="orderNum" id="orderNum" placeholder="" th:value="*{orderNum}">
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label class="col-form-label col-sm-2 text-sm-right">권한</label>
                                    <div class="col-sm-10">
                                        <select class="custom-select" name="roleName" id="roleName">
                                            <option th:each="role: ${roleList}"
                                                    th:value="${role.name}"
                                                    th:text="${role.name}"
                                                    th:selected="${resource.roleList.contains(role)} ? 'true' : 'false'"></option>
                                        </select>
                                    </div>
                                </div>
                            <div class="form-group row">
                                <div class="col-sm-10 ml-sm-auto">
                                    <button type="Submit" class="btn btn-primary">등록</button>
                                    <a class="btn btn-success" th:href="@{/admin/resource}">목록 </a>
                                    <a class="btn btn-danger" th:href="@{'/admin/resource/delete/' + *{id}}">삭제</a>
                                </div>
                            </div>
                        </form>
                        </div>
                    </div>

                </div>
                <!-- / Content -->
                <!-- Layout footer -->
                <nav th:replace="layout::footer"></nav>
                <!-- / Layout footer -->
                <!-- Layout content -->
            </div>
            <!-- / Layout container -->
        </div>
        <!-- Layout inner -->
        <div class="layout-overlay layout-sidenav-toggle"></div>
    </div>
    <!-- / Layout wrapper -->
</body>
</html>